QREG 4
CREG 3

GATE X(3)


GATE H(0)
GATE H(1)
GATE Y(0)
GATE H(3)

GATE X(0)
GATE CCX(2,3,0)

FOR n FROM 0 TO 2
    GATE CX(n,3)
ENDFOR

GATE X(0)
GATE CZ(3,2)

SEQGATE H FROM 0 TO 2

SEQMEASURE FROM 0 TO 2

ASSERT (|111>,|111>)