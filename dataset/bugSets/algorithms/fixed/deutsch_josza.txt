QREG 4
CREG 3

GATE X(3)

SEQGATE H FROM 0 TO 3

GATE X(0)
GATE X(2)

FOR n FROM 0 TO 2
    GATE CX(n,3)
ENDFOR

GATE X(0)
GATE X(2)

SEQGATE H FROM 0 TO 2

SEQMEASURE FROM 0 TO 2

ASSERT (|111>,|111>)